---
class: chapter
---

# CloudWatch Operational Investigationsを活用して運用の効率化を！

<div class="flush-right">
深津新太郎 @shin_fukatsu
</div>

## はじめに

はじめに
　今年、経済産業省が謳っていた2025年の崖と言われていた年になりました。IT人財不足が至る所で言われています。効率化を進めて、より価値を生む分野に人財を投入しようという流れになっていますね。
　私個人としては、ここ数年、クラウドネイティブの運用を学んでいく中で、オンプレミス・レガシーシステムの運用はつらいと改めて感じています。従来の運用を続けていくと担当してくれる人がいなくなってしまうのでは、と不安にもなります。
　様々な場面で非効率な部分を改善する手段として生成AIの活用も進んでおり、昨今の生成AIのムーブメントにAIOpsという運用に関わるキーワードも混ざっていますね。AIOpsの1つとして、私がお勧めしたいのが、運用の効率化に期待されるAmazon Q Developer Operational Investigationsの活用です。

## Amazon Q Developer Operational Investigations とは

　re:Invent2024でCEOのMatt氏から発表されました。ドキュメントの冒頭に以下が書かれています。

`Amazon Q Developer の運用調査機能は、システム内のインシデントへの対応に役立つ生成 AI を活用したアシスタントです。生成 AI を使用してシステムのテレメトリをスキャンし、問題に関連する可能性のある提案をすばやく表示します。`

　各種テレメトリをスキャンして問題の原因特定に協力してくれるというものです。当初はバージニアとオレゴンでプレビュー中でしたが、2025年4月26日に東京リージョンでもプレビューが開始されました。
　名前が長くなってしまうため、本稿ではAmazon Q Developer Operational Investigationsを「運用調査機能」として記載していきます。

## お勧めポイント
　以下に運用調査機能のお勧めポイントを記載していきます。

### 簡単に始められる
　調査の事前設定は調査結果の保存期間の設定のほか、CloudTrail、X-Ray、Application Signalsといった調査に役立つサービスとの連携を行うのみです。複雑な設定は不要で、デフォルト設定ですぐに開始することもできます。

### CloudWatch アラームから自動で調査を開始することが可能
　CloudWatch アラームのアクションとして、運用調査機能を自動起動させることができます。事前にデフォルト設定で作成した調査グループをCloudWatchアラームのアクションとして指定するのみのシンプルな設定です。CloudWatchで指定したアラームが発生したら、自動で調査を開始するといったことが可能です。

### Slack、ServiceNow等への連携が簡単に行える
　Amazon Q Developer in chat applicationsで数ステップの設定を行うだけで3rd Partyのコミュニケーションツール、タスク管理ツールと連動できます。例えばSlackであれば、運用調査機能でピックアップしたメトリクスやログの内容をSlackチャンネルにも通知してくれます。通知されたメトリクスや調査結果が障害事象に関連しそうか、関係ない情報かをSlack上で取捨選択することで、その内容を元に運用調査機能が分析をしてくれます。マネージメントコンソールにログインして、ログを確認して・・・、といったことは不要です。
　また、オンプレミス、レガシー環境ではリモートでのシステムアクセスが制限されていたりします。夜間に緊急連絡をもらって準備をして出社をして、端末を立ち上げてログを確認して、影響や原因を調査してといったことを担当されている方もいらっしゃると思います。そういったこともSlack上で取捨選択をするだけで、ログを分析して原因調査まで行えます。

## 気になる点
　これまでお勧めポイントを列挙してきましたが、2025年5月時点で利用にあたって気になっている点を挙げていきます。

### クロスリージョン推論
　ドキュメントを確認したところ、運用調査機能はクロスリージョン推論であることが明記されていました。東京でクロスリージョン推論となる場合は、シドニーやムンバイといった海外リージョンとセットになります。エンタープライズで国内リージョンの縛りがある方は気になるところですね。今後の国内リージョンでのクロスリージョンに期待です。

### コスト
　プレビュー中のため、利用料金が不明です。色々ログを読み取って、都度、推論が行われていると考えられますので、トークン量が少々心配です。Amazon Q Developer for CLIのようにある一定までは無料というと始めやすいかなと感じています。また、利用料課金となる場合でも、一般的なアラームは調査の対象外として、未知の障害、大規模障害に限定するなど使い所を考えれば課金も怖くないのではと考えています。

### 言語
　現時点で全て英語なのが、運用担当者としてはハードルが高くなる点ですね。Amazon Q Developer の様々な機能が順次、日本語対応し始めていますので、東京でGAされる頃には日本語対応されることを期待しています。

## まとめ
　運用調査機能はログやメトリクスを読み取り、分析をして原因調査まで一連の運用担当者の作業を支援してくれます。使いこなせば、夜間の緊急経路対応の日も安心です。
　また、AWS内のリソースはもちろんのこと、オンプレのリソースもCloudwatch Agentを利用してログやメトリクスを取得して、AWS上で監視を実施すれば、ある程度活用ができるのではないかと考えています。たとえシステムがオンプレにあったとしても、監視でAWSを利用することで効率化できるはず。あらゆる効率化の手段、可能性は考えていきたいですよね。オンプレ運用担当の方、諦めないでください。これから、まだまだ改善していく余地はあります。一緒に考えていきましょう！
　運用調査機能が、東京で早くGAされるのを待ちたいと思います。

#### 著者紹介

---

<div class="author-profile">
    <img src="images/shfk2.jpg">
    <div>
        <div>
            <b>深津　新太郎</b>
            <a href="https://twitter.com/shin_fukatsu">X@shin_fukatsu</a>
        </div>
        <div>
            サークル名：JAWS-UG 彩の国埼玉支部
        </div>
    </div>
</div>
<p style="margin-top: 0.5em; margin-bottom: 2em;">
AWS Community Builders 2025 (Cloud Operations)<br>
AWS Certifications  x 15<br>
現在はオンプレシステム更改のPMを担当<br>
re:Invent 2022-2024参戦<br>
</p>